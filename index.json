{
  "index.html": {
    "href": "index.html",
    "title": "バス移動判定クエリ",
    "keywords": "バス移動判定クエリ 「バス移動判定」はスマートフォンアプリの位置情報データをもとに、移動手段がバスかどうかを判定するロジックです。 ブログウォッチャー社が提携する国内140種類以上のスマートフォンアプリ利用者のうち、位置情報の利用を許諾したユーザーからのみデータを取得しています。"
  },
  "manual/devMan.html": {
    "href": "manual/devMan.html",
    "title": "環境構築手順書",
    "keywords": "環境構築手順書 1 本書について 本書では、「バス移動判定クエリ」の動作手順について記載しています。本システムの構成や仕様の詳細については以下も参考にしてください。 技術検証レポート 2 動作環境 本システムの動作環境は以下のとおりです。 項目 最小動作環境 推奨動作環境 OS WindowsはWindows 10 以降または Windows Server 2016 以降 MacはmacOS Big Sur 11 以降 同左 CPU Intel Pentium 4 以降 同左 メモリ 4GB以上 8GB以上 ディスプレイ解像度 1920×1080以上 同左 ネットワーク インターネット環境へ接続されていることが必要 同左 3 利用手順 本クエリの動作にはGoogleBigQueryのアカウントが必要ですので準備をしてください。 GoogleBigQueryクイックスタート 使用手順を参照してください。 なお、本手順で用いられるデータはいずれもダミーデータとなります。"
  },
  "manual/userMan.html": {
    "href": "manual/userMan.html",
    "title": "操作マニュアル",
    "keywords": "操作マニュアル 1 本書について 本書では、「バス移動判定クエリ」の動作手順について記載しています。 2 使い方 ①inputフォルダ内に存在する以下のサンプルデータをダウンロードしてください。 input/input_sample.json input/ダミープローブデータサンプル.csv input/長野県バスルートデータサンプル.json input/長野県メッシュデータサンプル.csv ②上記のデータをBigQueryの任意のデータセットにアップロードしてください。 ③query/バス判定用クエリのテーブル参照の箇所を上記のテーブル名に書き換えます。 ④BigQuery上でクエリを実行するとoutputフォルダ内にある出力結果が表示されます。 3 入力データについて (1)input_sample.json 概要 input_sample.jsonは人流データのログを滞在か移動(鉄道、自動車等、自転車等、徒歩)に分類したデータです。本OSSでは、ダミーデータを用いています。 本データは位置情報のログをセグメントごとに分けています。セグメントとは位置情報ログの集合であり、移動手段の切り替わり時にセグメントが分割されます。 例) 滞在⇨徒歩移動⇨バス移動⇨滞在という順序で移動された場合、①滞在②徒歩移動③バス移動④滞在の4つのセグメントに分類される。 なお、本データはネスト構造になっているため、BigQuery上での操作が必要です。 テーブルスキーマ カラム名 意味 common_id 端末の固有ID seg_no セグメント番号 is_uuid UUIDフラグ os スマートフォンOS arrive_ptime 滞在開始時間 depart_ptime 滞在終了時間 visiting_second 滞在時間 cnt セグメントのログ数 is_stay 滞在フラグ raw_array.latitude 緯度 raw_array.longitude 経度 raw_array.sdk_detect_ptime ログ検知時刻 raw_array.accuracy ログ検知誤差 raw_array.latitude 緯度 pred_tpmode 移動手段(鉄道、自動車等、自転車等、徒歩) (2)ダミープローブデータサンプル 概要 ダミープローブデータはバスの移動情報を取得したデータです。本OSSでは、ダミーデータを用いています。 テーブルスキーマ カラム名 意味 id 車両ID type 車両種別 OD 出庫/経路/入庫 numbering 個別データ連番 date_time 時刻 Lon 緯度 Lat 経度 speed 速度 direction 方向 3rd_mesh 3次メッシュ番号 (3)長野県バスルートデータサンプル 概要 国土数値情報より取得したバスの路線情報を示したデータです。 テーブルスキーマ カラム名 意味 N07_001 バス事業者名 N07_002 その他特記事項 geometry 路線のポリゴン (4)長野県メッシュデータサンプル 概要 長野県内の125mメッシュコードを示したデータです。 | カラム名 | 意味 | |:-----------|------------:| | mt_mesh | 長野県の125mメッシュコード | 4 出力データ クエリを実行すると、バス判定がなされ、以下のスキーマに従ってデータが抽出されます。 出力データのテーブルスキーマ カラム名 意味 common_id 端末の固有ID seg_no セグメントno is_uuid UUIDフラグ os スマートフォンOS arrive_ptime 滞在開始時間 depart_ptime 滞在終了時間 visiting_second 滞在時間 cnt セグメントのログ数 is_stay 滞在フラグ raw_array.latitude 緯度 raw_array.longitude 経度 raw_array.sdk_detect_ptime ログ検知時刻 raw_array.accuracy ログ検知誤差 raw_array.latitude 緯度 pred_tpmode 移動手段(鉄道、自動車、バス、自転車、徒歩) 5 注意点 本判定ロジックの精度はブログウォッチャー社がスマホアプリユーザーから許諾を受け収集している位置情報データを用いて検証されています。他データベンダーのデータであってもテーブルスキーマを満たせば判定は可能ですが、精度が担保できない恐れがあります。"
  }
}